	Инструкция по установке:
Установить плагин можно несколькими путями:
Способ первый.
 - Добавить следующие строки в composer.json:
<code>
(...)
"repositories": [
        {
            "type": "vcs",
            "url": "/home/boecspecops/Projects/Repository/diplom/Denis.Volzhankin/CakeD"
        }
    ]
</code>
=======
# Плагин CakeD для фреймворка CakePHP
### Описание
CakeD - плагин, предназначенный для запланированной отправки файлов.

### Установка
Установка через composer:
- Добавить в `Composer.json` следующие строки

```
"repositories": [
    {
        "type": "vcs",
        "url": "https://github.com/boecspecops/caked"
    }
],
"require": {
	"caked": "dev-wip"
}
```
- Из корневого каталога проекта выполнить в командной строке `php composer.phar update`
- Для миграции таблиц, из корневого каталога выполнить `bin/cake migrations migrate -p CakeD`

### Компоненты плагина
#### TaskManager
##### Описание
Данная компонента предоставляет API для планирования, конфигурирования задач, а так же, добавления файлов к задачам.

##### Методы:
- `public function createTask($config, $exec_time = null)`<br>
В качестве аргументов метод принимает два параметра:<br>
`$config` - путь до файла конфигурации (обязательный параметр)<br>
`$exec_time` - время, в которое нужно начать исполнение задачи

Метод возвращает задачу - объект, у которого имеется свой перечень методов.

- `public function addfile($task, $files)`<br>
В качестве аргументов метод принимает два параметра:<br>
`$task` - объект задачи<br>
`$files` - строка или массив строк, содержащих путь до файлов.

Метод возвращает подзадачу - объект, у которого имеется свой перечень методов.

### Оболочка плагина
#### Task
##### Описание
Оболочка предоставляет метод 'main()' для анализа и исполнения задач.

##### Использование
- Для запуска анализа и исполнения задач из консоли нужно выполнить команду `bin/cake CakeD.Task`.

##### Пример использования с crontab
1) В консоли вписать `crontab -e` для редактирования списка cron-задач.<br>
2) Добавить в конец файла <br>
`* * * * * cd <путь до корневой директории проекта> && bin/cake CakeD.Task`
